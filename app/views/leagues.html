<div data-ng-animate=" 'slide-animate' ">

  <h3>Active Leagues</h3>

  <div data-ng-show="league.userLeagues.length > 0">
    <div data-ng-repeat="league in league.userLeagues">
      <div class="panel panel-primary">
        <div class="panel-heading clearfix">
          <h3 class="panel-title pull-left">{{league.type_name}} - {{league.item_name}} {{league.item_code}}</h3>
        </div>
        <div class="panel-body">

          <!--<div class="bs-callout bs-callout-danger" id="callout-type-b-i-elems">
            <div class="row">
              <i class="fa fa-exclamation-triangle fa-3x pull-left fa-border text-danger"></i>
              <h4>Notice:</h4>
              All week 1 games have been rescheduled!<br>Please check the league page for make-up games
              and practice schedules!
            </div>
          </div>-->

          <h4>League Information</h4>

          {{league.description}}
          <br><br>
          Registration Begins {{league.reg_start}} and ends on {{league.reg_end}}.<br>
          This league runs from {{league.start_date}} to {{league.end_date}}.

          <h4 data-ng-show="league.userTeams.length > 0">My Team(s)</h4>

          <div data-ng-repeat="team in league.userTeams">
            <h5>{{team.team_name}}</h5>

            <div class="row">
              <div class="col-sm-4">Games</div>
            </div>

            <div class="table-responsive">
              <table class="table table-bordered table-striped">
                <thead>
                <tr>
                  <td>Type</td>
                  <td>Teams</td>
                  <td>Time</td>
                  <td>Location</td>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="game in team.games">
                  <td>{{game.game_type}}</td>
                  <td>{{game.game_name}}</td>
                  <td>{{game.game_time}}</td>
                  <td>{{game.game_location}}</td>
                </tr>
                </tbody>
              </table>
            </div>

            <div class="row">
              <div class="col-sm-4">Roster</div>
              <div class="col-sm-8"><button type="button" id="btnNewTeamMember" value="Add Player" class="btn btn-success btn-sm pull-right" data-ng-click="addingTeamMember = !addingTeamMember"><i class="fa fa-plus"></i> Add Player</button></div>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered table-striped">
                <thead>
                <tr>
                  <td>First</td>
                  <td>Last</td>
                  <td>Birthday</td>
                  <td>Email</td>
                  <td>Phone</td>
                  <td data-ng-if="addingTeamMember"></td>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-show="newTeamMemberErrors.length > 0" class="danger" data-ng-repeat="error in newTeamMemberErrors">
                  <td colspan="6"><span class="danger">{{error.error.text}}</span></td>
                </tr>
                <tr data-ng-if="addingTeamMember" class="warning">
                  <td><input placeholder="Required" type="text" id="newFirstName" data-ng-model="newTeamMemberForm.firstname" class="form-control" required/></td>
                  <td><input placeholder="Required" type="text" id="newLastName" data-ng-model="newTeamMemberForm.lastname" class="form-control" required/></td>
                  <td><span class="input-group"><span class="input-group-addon"><i class="fa fa-calendar"></i></span><input class="form-control" placeholder="MM/DD/YYYY" data-ng-model="newTeamMemberForm.birthday" data-date-format="M/d/yyyy" id="newBirthday" name="date" data-autoclose="true" data-start-view="2" bs-datepicker type="text" required></span></td>
                  <td><input placeholder="Optional" type="text" id="newEmail" data-ng-model="newTeamMemberForm.email" class="form-control"/></td>
                  <td><input placeholder="" type="text" id="newPhone" value="" ui-mask="(999) 999-9999" data-ng-model="newTeamMemberForm.phone" class="form-control" required/></td>
                  <td data-ng-if="addingTeamMember">
                    <button type="button" id="btnSaveTeamMember" value="Save" class="btn btn-info btn-sm" data-ng-click="onSaveNewTeamMember(team.team_id)"><i class="fa fa-save"></i> Save</button>
                  </td>
                </tr>
                <tr data-ng-repeat="player in team.roster">
                  <td>{{player.firstname}}</td>
                  <td>{{player.lastname}}</td>
                  <td>{{player.birthday}}</td>
                  <td>{{player.email_address}}</td>
                  <td>{{player.phone_number}}</td>
                  <td data-ng-if="addingTeamMember"></td>
                </tr>
                </tbody>
              </table>
          </div>

          <h4 data-ng-show="league.userTeams.length > 0">All Teams</h4>

          <div data-ng-repeat="team in league.teams">
            <h5>{{team.team_name}} <button type="button" value="Games" class="btn btn-sm btn-link btn-primary" data-ng-click="team.show_games = !team.show_games"><i class="fa fa-list"></i><span data-ng-show="team.show_games"> Hide</span><span data-ng-show="!team.show_games"> Show</span> Games</button></h5>

            <div class="row" data-ng-show="team.show_games">
              <div class="col-sm-4">Games</div>
            </div>

            <div class="table-responsive" data-ng-show="team.show_games">
              <table class="table table-bordered table-striped">
                <thead>
                <tr>
                  <td>Type</td>
                  <td>Teams</td>
                  <td>Time</td>
                  <td>Location</td>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="game in team.games">
                  <td>{{game.game_type}}</td>
                  <td>{{game.game_name}}</td>
                  <td>{{game.game_time}}</td>
                  <td>{{game.game_location}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!--
          <div class="row">
            <div class="col-xs-12">
              <a href="#/{{orgurl}}/leagues/2015DemoLeague" class="btn btn-info pull-right"><i class="fa fa-sign-in"></i> League Page</a>
            </div>
          </div>
          -->
          </div>
        </div>
      </div>
    </div>
  </div>


  <div data-ng-show="league.userLeagues.length == 0">
    <div class="bs-callout bs-callout-danger" id="callout-type-b-i-elems">
      <div class="row">
        <i class="fa fa-exclamation-triangle fa-3x pull-left fa-border text-danger"></i>
        <h4>No leagues found:</h4>
        You do not appear to be registered in any active leagues at this time.
      </div>
    </div>
  </div>

</div>
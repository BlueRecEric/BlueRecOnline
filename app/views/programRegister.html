<h3>Registering for {{proinfo.returnData.item_name}}({{proinfo.returnData.item_code}})</h3>

<div class="bs-callout bs-callout-info" id="callout-type-b-i-elems">
  <p><i class="fa fa-pencil fa-3x fa-top-text"></i>
    This is an example of a note that would be attached to a program. This note will appear here during online registration.
    If multiple notes are attached, they will each appear in their own 'box' so that they are easy to distinguish.</p>
</div>

<h4>Please select the household members that will be registering for this activity:</h4>



<!--
<div class="well" data-ng-repeat="person in proReg.household">
  <div class="row">
      <a href="#" class="btn btn-primary"><i class="fa fa-sign-in"></i> Register {{person.firstname}} {{person.lastname}}</a>
  </div>
</div>
-->
<div class="panel panel-default" data-ng-repeat="person in proReg.household">
  <div class="panel-heading"><input type="checkbox" ng-model="person.registrationSelected" data-ng-change="proReg.checkRegistration($index)" aria-label="Register {{person.firstname}} {{person.lastname}}"> {{person.firstname}} {{person.lastname}}</div>
  <div class="panel-body">

    <progressbar data-ng-show="person.progress > 0" class="progress-striped active" max="max" value="person.progress">{{person.progress}}%</progressbar>

    <div ng-show='person.showLoadingRegistration'>Checking Requirements... <i class="fa fa-cog fa-spin"></i></div>
    <div class="alert alert-danger" role="alert" data-ng-repeat="failedReq in person.failed">{{failedReq}}</div>

    <div data-ng-show="(person.hasCustomFields && person.failedCount === 0)" class="well">
      <form name="myForm" class="form-horizontal" role="form" ng-submit="proReg.submitCustomForm($index)">
        <div ng-repeat="field in person.customForm track by $index">
          <ng-form name="form">
            <!-- TEXT FIELDS -->
            <div ng-if="field.type=='text'" class="form-group">
              <div class="alert alert-danger" role="alert" data-ng-show="form.input{{$index}}.$dirty && form.input{{$index}}.$error.required">{{field.label}} is required</div>
              <label class="col-sm-2 control-label-center">{{field.label}}</label>
              <div class="col-sm-6">
                <input type="{{field.type}}" id="{{field.name}}" data-ng-model="field.response_value" class="form-control" required/>
              </div>
            </div>

            <!-- NUMERIC FIELDS -->
            <div ng-if="field.type=='number'" class="form-group">
              <div class="alert alert-danger" role="alert" data-ng-show="form.input{{$index}}.$dirty && form.input{{$index}}.$error.required">{{field.label}} is required</div>
              <label class="col-sm-2 control-label-center">{{field.label}}</label>
              <div class="col-sm-6">
                <input type="text" id="{{field.name}}" data-ng-model="field.response_value"  class="form-control" required/>
              </div>
            </div>

            <!-- SELECT FIELDS -->
            <div ng-if="field.type=='select'" class="form-group" >
              <label class="col-sm-2 control-label-center">{{field.label}}</label>
              <div class="col-sm-6">
                <select data-ng-model="field.response_value" class="form-control" prompt="Select One" required>
                  <option data-ng-repeat="option in field.options">{{option}}</option>
                </select>
              </div>
            </div>

            <!-- CHECKBOX FIELDS -->
            <div ng-if="field.type=='checkbox'" class="form-group" >
              <label class="col-sm-2 control-label-center">{{field.label}}</label>
              <div class="col-sm-6">
                <input type="checkbox" data-ng-model="field.response_value"  name="taskGroup" id="{{field.name}}" value="{{field.id}}"/>
              </div>
            </div>

          </ng-form>

        </div>


        <div class="row">
        <label class="col-sm-2 control-label">&nbsp;</label>
        <div class="col-sm-6">
          <button class="btn btn-info" ng-disabled="myForm.$invalid" type="submit" id="submit"><i class="fa fa-sign-in"></i> Submit</button>
        </div>
        </div>
      </form>
    </div>

    <div class="form-group" data-ng-show="(person.failedCount === 0)" data-ng-repeat="waiverData in person.waivers">
      <label for="txtWaiver">{{waiverData.waiver_name}}</label>
      <textarea name="txtWaiver" id="txtWaiver" class="form-control" rows="3">{{waiverData.waiver_text}}</textarea>
    </div>
  </div>
</div>

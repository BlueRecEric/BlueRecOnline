<style>
    .ng-enter {
        -webkit-transition: .3s;
        transition: .3s;
        opacity: 0;
    }
    .ng-enter-active {
        opacity: 1;
        -webkit-transition: .35s;
        transition: .5s;
    }
</style>


<div class="row" data-ng-animate="'slide'">
    <div data-ng-controller="RequestReservation" class="container" >

    <h3 style="padding-bottom: 10px;" ng-show="showNotValidUser || validLogin">Reservation Request Form</h3>


    <div ng-show="!userLoggedIn">
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>

            Login to access the reservation request feature.
        </div>
    </div>


    <div ng-show="userLoggedIn">

          <form class="form-horizontal">

          <div class="alert alert-info animate-show animate-hide" role="alert" ng-hide="!hideBasicInfo">
              <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>

              Select Rental Type to Continue
          </div>

          <div class="form-group animate-show animate-hide">
              <label class="col-sm-3 control-label" >Rental Purpose*:</label>
              <div class="col-sm-9">


                  <select ng-model="rentalCodeSearch" class="form-control" style="width: 300px;" ng-change="setNewRental()">
                      <option value="">--Select Rental Type--</option>
                      <option ng-repeat="rentalRow in rentalDropDown" value="{{rentalRow.item_id}}">{{rentalRow.item_name}}</option>
                  </select>


              </div>
          </div>

          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label">Description:</label>
              <div class="col-sm-9">
                  <label class="control-label" style="font-weight: normal;">{{rentalDescription}}</label>
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label">Facilities*:</label>
              <div class="col-sm-9">
                  <div  class="form-vertical  " ng-repeat="fac in rentalFacilities" >

                      <input type="checkbox" ng-model="fac.checked" ng-change="onFacilityChecked()" /> {{fac.item_name}}

                  </div>
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="true">
              <label class="col-sm-3 control-label" >Packages:</label>
              <div class="col-sm-9">
                  <label  class=" control-label"  style="font-weight: normal;">Select additional options</label>
              </div>
          </div>




          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Requested Date*:</label>
              <div class="col-sm-9">
                  <div class="input-group">
                       <span class="input-group-addon " style="width: 25px;">
                             <i class="glyphicon glyphicon-calendar "></i>
                        </span>
                      <input class="form-control" ng-model="selectedDate" name="date" bs-datepicker type="text" style="width: 150px;">

                      <span class="input-group-addon" style="width: 250px;background-color: #ffffff; visibility: hidden;">

                        </span>
                  </div>
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Start Time*:</label>
              <div class="col-sm-9">
                  <div class="input-group">
                      <div class="input-group-addon" style="width: 25px;"><i class="glyphicon glyphicon-time"></i></div>
                      <input class="form-control" size="8" ng-model="startTime" name="startTime" bs-timepicker data-length="1"
                             data-minute-step="15" data-arrow-behavior="picker" type="text" style="width: 150px;" ng-change="timeChanged()">

                  </div>
              </div>
          </div>

          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >End Time*:</label>
              <div class="col-sm-9">
                  <div class="input-group">
                      <div class="input-group-addon" style="width: 25px;"><i class="glyphicon glyphicon-time"></i></div>
                      <input class="form-control" size="8" ng-model="endTime" name="endTime" bs-timepicker data-length="1"
                             data-minute-step="15" data-arrow-behavior="picker" type="text" style="width: 150px;" ng-change="timeChanged()">
                  </div>
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Reservation Details:</label>
              <div class="col-sm-9">
                  <textarea ng-model="reservationDetails" rows="5" cols="35"></textarea>
              </div>
          </div>

          <div class="form-group animate-show animate-hide" ng-hide="true">
              <label class="col-sm-3 control-label" >Will you be serving alcohol?*</label>
              <div class="col-sm-9">
                  <select ng-model="alcohol" class="form-control" style="width: 125px;">
                      <option value="">--Select--</option>
                      <option value="Y">Yes</option>
                      <option value="N">No</option>
                      <option value="U">Undecided</option>
                  </select>
              </div>
          </div>


          <div class="form-group animate-show animate-hide" ng-hide="true">
              <label class="col-sm-3 control-label" >Custom Fields:</label>
              <div class="col-sm-9">
                  <label  class=" control-label">Custom Fields Here...</label>
              </div>
          </div>


          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Email Address:</label>
              <div class="col-sm-9">
                  <input ng-model="emailAddress" type="email" class="form-control" style="width: 250px;" />
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Phone Number:</label>
              <div class="col-sm-9">
                  <input ng-model="phoneNumber" type="text" class="form-control" style="width: 150px;"/>
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Preferred Contact Method*:</label>
              <div class="col-sm-9">
                  <select class="form-control" style="width: 125px;" ng-model="contactMethod">
                      <option value="">--Select--</option>
                      <option value="P">Phone</option>
                      <option value="E">Email</option>
                  </select>
              </div>
          </div>



          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Additional Notes:</label>
              <div class="col-sm-9">
                  <textarea ng-model="reservationNotes" rows="5" cols="35"></textarea>
              </div>
          </div>


          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <label class="col-sm-3 control-label" >Estimated Rental Cost:</label>
              <div class="col-sm-7">
                  <label  class=" control-label">{{feeAmount | currency}} (Includes $0.00 deposit)</label>
                  <br>
                  <p>The estimated rental cost is based on information supplied at the time of the request and may change
                      according to additional information, change in rental request, and/or residency status of the renter. This
                      request is not an official rental until it has been approved and the renter has paid in full.</p>
              </div>
          </div>


          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
          <div class="col-sm-offset-1 col-sm-10">
              <div >
                  <label data-placement="bottom-left" data-type="info"  bs-enabled="agreementSigned.checked" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none;"
                         unselectable="on"
                         onselectstart="return false;"
                         onmousedown="return false;">
                      <input ng-model="agreementSigned.checked" type="checkbox" checked="false"> I have read, understand, and agree to the <a href="" target="_blank">Terms and Conditions</a> regarding The Parks and Recreation Facility Reservations and Refund/Cancelation Policy.
                  </label>
              </div>
          </div>
          </div>


          <div class="form-group animate-show animate-hide" ng-hide="!contactCheckAlert" ng-cloak>
          <div class="col-sm-offset-1 col-sm-10 alert alert-danger animate-hide" role="alert" >
              <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
              <span class="sr-only">Error:</span>
              Terms & Agreement not checked!

              <span class="close" ng-click="contactCheckAlert=false">&times;</span>

          </div>
          </div>

          <div class="form-group animate-show animate-hide" ng-hide="hideBasicInfo">
              <div class="col-sm-10">
                  <div class="center-block" style="width: 300px;">
                      <br>
                    <button type="submit" class="btn btn-info btn-lg btn-block" ng-click="onSubmitRequest()" data-animation="am-fade-and-scale" data-placement="center" data-template="confirmation.html" bs-modal="modal">Submit Request</button>
                  </div>
              </div>
          </div>

      </form>

      <h3 class="page-header" style="padding-bottom: 10px;" ng-hide="hideBasicInfo"></h3>
      <h3  style="padding-bottom: 10px;" ng-hide="hideBasicInfo">Reservation Availability</h3>

      <div id='calcontainer' ng-hide="hideBasicInfo">
          <div class="btn-toolbar">
              <div class="btn-group">
                  <button type="button" class="btn btn-primary" ng-class="{active:mode==='month'}"
                          ng-click="changeMode('month')">
                      Month
                  </button>
                  <button type="button" class="btn btn-primary" ng-class="{active:mode==='week'}"
                          ng-click="changeMode('week')">
                      Week
                  </button>
                  <button type="button" class="btn btn-primary" ng-class="{active:mode==='day'}"
                          ng-click="changeMode('day')">
                      Day
                  </button>
              </div>
              <div class="btn-group">
                  <button type="button" class="btn btn-default" ng-disabled="isToday()" style="background-image: linear-gradient(#009900, #329a13 40%, #35a414); border-color:#3ebe17;color: #fff;"
                          ng-click="today()">
                      Today
                  </button>
              </div>
          </div>
          <div >
              <calendar ng-model="currentDate" calendar-mode="mode" event-source="eventSource"
                        range-changed="reloadSource(startTime, endTime)" queryMode="remote"
                        event-selected="onEventSelected(event)"></calendar>
              <br>
          </div>
      </div>
    </div>
  </div>
</div>



<script type="text/ng-template" id="confirmation.html">
    <div class="modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title text-Success">Request Submitted</h3>
                </div>
                <div class="modal-body">
                    <p>Your reservation request has successfully been submitted and will</p>
                    <p>be reviewed and someone will get back to you as soon as possible.</p>

                    <p style="text-right">Thank You</p>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-sucess" ng-click="$hide()">Close</button>
                </div>
            </div>
        </div>
    </div>
</script>


<script type="text/ng-template" id="rzSliderTpl2.html">
    <span class="rz-bar-wrapper"><span class="rz-bar rz-bar2"></span></span>
    <span class="rz-bar-wrapper"><span class="rz-bar rz-bar2 rz-selection rz-selection2"></span></span>
    <span class="rz-pointer rz-pointer2"></span>
    <span class="rz-pointer rz-pointer2"></span>
    <span class="rz-bubble rz-limit"></span>
    <span class="rz-bubble rz-limit"></span>
    <span class="rz-bubble"></span>
    <span class="rz-bubble"></span>
    <span class="rz-bubble"></span>
</script>

<script type="text/ng-template" id="pagination.custom.html">
    <nav data-ng-if="numPages && pages.length >= 2">
        <ul class="pagination" style="margin-bottom: 0px!important;">
            <li><a data-ng-click="selectPage(1)" class="clicky">First</a>
            </li>
            <li><a data-ng-click="selectPage(currentPage - 1)" class="clicky">«</a></li>
            <li data-ng-repeat="page in pages" data-ng-class="{active: page==currentPage}"><a
                    data-ng-click="selectPage(page)" class="clicky">{{page}}</a></li>
            </li>
            <li><a data-ng-click="selectPage(currentPage + 1)" class="clicky">»</a>
            </li>
            <li><a data-ng-click="selectPage(numPages)" class="clicky">Last</a></li>
        </ul>
    </nav>
</script>


<div data-ng-animate="'slide'">

    <h3>Make a Reservation</h3>

<div data-ng-controller="RequestReservation">

<!--<div class="hidden-xs" data-ng-hide="true">
    <button type="button" class="" data-ng-click="mapClicked(1)" style="padding: 0px;border: 0px;margin: 0px;"><img
            src="images/map1.jpg" style="padding: 0px;border: 0px;margin: 0px;"></button>
    <button type="button " class="" data-ng-click="mapClicked(2)" style="padding: 0px;border: 0px;margin: 0px;"><img
            src="images/map2.jpg" style="padding: 0px;border: 0px;margin: 0px;"></button>
</div>-->

<div data-ng-show="displayApprovedRentals">
    <h3>Approved Reservation Requests</h3>
</div>

<div class="panel panel-default" data-ng-show="displayApprovedRentals">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Select Approved Reservation</h3>
    </div>

    <div class="panel-body" style="padding: 0px!important;">
        <table st-table="approvedRentalData" st-safe-src="approvedRentalCollection" class="table">
            <thead>
            <th style="border: 0px;"></th>
            </thead>

            <tbody>
            <tr data-ng-repeat="approvedRow in approvedRentalData" style="font-size: 15px;">
                <td>
                    <button type="submit" class="btn btn-info" data-ng-click="onSelectApprovedRental(approvedRow)">
                        Add to
                        Cart
                    </button>
                </td>
                <td st-ratio="20" class="text-left clicky no-select control-label-center"
                    data-ng-bind="::approvedRow.item_name">
                </td>
                <td st-ratio="20" class="text-left clicky no-select control-label-center"
                    data-ng-bind="::approvedRow.facility_names">
                </td>
                <td st-ratio="20" class="text-left clicky no-select control-label-center"
                    data-ng-bind="::approvedRow.starting">
                </td>
                <td st-ratio="20" class="text-left clicky no-select control-label-center"
                    data-ng-bind="::approvedRow.ending">
                </td>
                <td st-ratio="20" class="text-left clicky no-select control-label-center"
                    data-ng-bind="::approvedRow.fee_estimate">
                </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="6" class="text-center" style="padding-bottom: 0px; padding-top: 0px;">

                </td>
            </tr>
            </tfoot>

        </table>

    </div>
</div>

<div data-ng-hide="true">
    <h3 style="">Reservation Request Form</h3>
</div>

<div data-ng-show="!userLoggedIn">
    <div class="alert alert-danger" role="alert">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        Login to access the reservation request feature.
    </div>
</div>

<div data-ng-show="userLoggedIn">

<div class="panel panel-default" style="margin-bottom: 10px !important;">
<div class="panel-heading clearfix clicky" data-ng-click="onSearchPanelOpen()">
    <h3 class="panel-title">
        <a style="text-decoration: none;">
            <div class="clicky no-select">
                <i style="top:2px;" data-ng-class="{'text-primary fa fa-lg fa-chevron-circle-down': searchPanelActive===1, 'text-primary fa fa-lg fa-chevron-circle-right': searchPanelActive===0}"></i>&nbsp;
                <span class="text-underline">Advanced Search</span>&nbsp;
                <span class="text-underline">{{advancedSearchLabel}}</span>&nbsp;
            </div>
        </a>
    </h3>
</div>

<div id="searchPanel" class="panel-body" data-ng-show="searchPanelActive === 1" style="padding: 4px 0px;">

<div class="alert alert-danger animate-show animate-hide" role="alert"
     data-ng-show="searchErrorMessage.length>0"
     style="word-wrap: break-word;margin:10px;">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>

    {{searchErrorMessage}}
</div>


<form name="searchForm" novalidate>

<div class="container" style="padding-top:10px;">
    <div class="col-sm-3">
        <div class="form-group">
            <div class="row" style="padding-left: 0px;">
                <div class="col-sm-12">
                    <label for="searchRentalType"
                           data-ng-class="{'has-error': searchForm.$submitted && searchForm.searchRentalType.$invalid}">*Rental
                        Type</label>
                </div>
                <div class="col-sm-12">
                    <select data-ng-model="rentalCodeSearch" class="form-control"
                            style="width: 100%;max-width:225px;"
                            data-ng-change="setNewRental(true)" id="searchRentalType"
                            name="searchRentalType"
                            data-ng-options="rentalRow.item_id as rentalRow.item_name for rentalRow in rentalDropDown"
                            required>
                        <option value="">--Select Rental Type--</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-9">
        <div class="form-group">
            <div class="row">
                <div class="col-sm-12">
                    <label for="searchFacilities"
                           data-ng-class="{'has-error': searchForm.$submitted && searchForm.searchFacilities.$invalid}">*Facility</label>
                </div>
                <div class="col-sm-12" style="padding-left: 14px;">
                    <ui-select multiple array-required
                               data-ng-model="selectedSearchFacilities.facilities"
                               id="searchFacilities" name="searchFacilities"
                               style="width:100%;min-width:225px;max-width: 300px;"
                               search-enabled="false">
                        <ui-select-match placeholder="Select Facility...">{{$item.item_name}}
                        </ui-select-match>
                        <ui-select-choices repeat="facility in facilitySearchItems">
                            {{facility.item_name}}
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="padding-left: 0px;">
    <div class="col-sm-3">
        <div class="form-group col-sm-12" style="padding-top: 6px;">
            <div class="row" style="padding-left: 0px;">
                <div class="col-sm-12">
                    <label for="earliestStartDate"
                           data-ng-class="{'has-error': searchForm.$submitted && searchForm.earliestStartDate.$invalid}">*From
                        Date</label>
                </div>
                <div class="col-sm-12">
                    <input id="earliestStartDate" name="earliestStartDate" style="width: 170px;"
                           container="body"
                           type="text" class="form-control" data-ng-model="fromDate"
                           data-max-date="{{untilDate}}"
                           placeholder="From Date" data-autoclose="1" required bs-datepicker>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-3" style="padding-right: 10px;">
        <div class="form-group col-sm-12" style="padding-top: 6px;">
            <div class="row">
                <div class="col-sm-12">
                    <label for="latestStartDate"
                           data-ng-class="{'has-error': searchForm.$submitted && searchForm.latestStartDate.$invalid}">*Until
                        Date</label>
                </div>
                <div class="col-sm-12">
                    <input id="latestStartDate" class="form-control" name="latestStartDate"
                           style="width: 170px;"
                           container="body"
                           type="text" data-ng-model="untilDate" data-min-date="{{fromDate}}"
                           placeholder="Until Date" data-autoclose="1" required bs-datepicker>
                </div>
            </div>
        </div>
    </div>


    <div class="col-sm-6">
        <div class="form-group col-sm-12">
            <div class="row">
                <div class="col-sm-12">
                    <label data-ng-class="{'has-error': searchForm.$submitted && durationError}">
                        *Rental's Duration {{searchForm.$submitted && durationError?'(Duration
                        must be greater than 0
                        minutes)':''}}
                    </label>
                </div>
                <div class="text-right col-sm-12">
                    <rzslider
                            rz-slider-draggable-range="true"
                            rz-slider-hide-limit-labels="true"
                            rz-slider-step="30"
                            rz-slider-model="durationSelected"
                            rz-slider-floor="durationSlider.floor"
                            rz-slider-ceil="durationSlider.ceil"
                            rz-slider-always-show-bar="true"
                            rz-slider-translate="translateDuration"
                            rz-slider-tpl-url="rzSliderTpl2.html"></rzslider>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="padding-left: 0px;">
    <div class="col-sm-12">
        <div class="form-group col-sm-12">
            <div class="row">
                <div class="col-sm-12">
                    <label data-ng-class="{'has-error': searchForm.$submitted && timeFrameError}">
                        *Time Frame to Search {{searchForm.$submitted && timeFrameError?'(Start
                        and End times cannot be
                        the same)':''}}
                    </label>
                </div>
                <div class="col-sm-12 text-left">
                    <rzslider
                            rz-slider-draggable-range="false"
                            rz-slider-precision="true"
                            rz-slider-step="30"
                            rz-slider-model="timeRangeStartSelected"
                            rz-slider-floor="timeSlider.floor"
                            rz-slider-ceil="timeSlider.ceil"
                            rz-slider-high="timeRangeEndSelected"
                            rz-slider-translate="translate"></rzslider>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="container" style="padding-left: 0px;">
    <div class="col-sm-12">
        <div class="form-group col-sm-12">
            <div class="row">
                <div class="col-sm-12">
                    <label data-ng-class="{'has-error': searchForm.$submitted && weekdaysError}">*Weekdays</label>
                </div>
                <div class="col-sm-12">
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.sunday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkSun"></checkbox><label for="checkSun"
                                                                    class="label-weekday-spacing">
                                Sun</label></span>
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.monday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkMon"></checkbox><label for="checkMon"
                                                                    class="label-weekday-spacing">
                                Mon</label></span>
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.tuesday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkTues"></checkbox><label for="checkTues"
                                                                     class="label-weekday-spacing">
                                Tues</label></span>
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.wednesday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkWed"></checkbox><label for="checkWed"
                                                                    class="label-weekday-spacing">
                                Wed</label></span>
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.thursday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkThur"></checkbox><label for="checkThur"
                                                                     class="label-weekday-spacing">
                                Thur</label></span>
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.friday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkFri"></checkbox><label for="checkFri"
                                                                    class="label-weekday-spacing">
                                Fri</label></span>
							<span class="no-word-wrap checkbox-weekday-spacing"><checkbox
                                    class="btn-default checkbox-dark-border"
                                    data-ng-model="weekdaySearch.saturday"
                                    data-ng-change="filterTrainerList()"
                                    id="checkSat"></checkbox><label for="checkSat"
                                                                    class="label-weekday-spacing">
                                Sat</label></span>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="container text-center">
    <button style="min-width:220px;" class="btn btn-info" container="body" type="submit"
            v-busy="isSearchIconBusy" v-busy-label="Searching..." v-pressable
            data-ng-click="onSearchRentalTimes((!searchForm.$error.required && !searchForm.searchRentalType.$invalid && !searchForm.searchFacilities.$invalid))">
        Search Available Rental Times
    </button>
</div>
</form>

<div>
    <div data-ng-if="isSearchIconBusy || !displaySearchResults" style="height: 30px;"></div>
    <div data-ng-if="!isSearchIconBusy && !displayNoResults">
        <table st-table="searchResultsData" st-safe-src="searchRowCollection"
               class="table table-hover vtable"
               data-ng-show="displaySearchResults">
            <thead>
            <th style="border: 0px;"></th>
            </thead>

            <tbody>
            <tr data-ng-repeat="searchRow in searchResultsData">
                <td st-ratio="5" class="text-center clicky no-select"
                    data-ng-click="onSelectRentalTime(searchRow)">
                    <i id="arrow-icon" class="fa fa-chevron-right fa-3x"></i>
                </td>
                <td st-ratio="20" class="text-left clicky no-select"
                    data-ng-click="onSelectRentalTime(searchRow)"
                    data-ng-bind="::searchRow.facility_item_name">
                </td>
                <td st-ratio="30" class="text-left clicky no-select"
                    data-ng-click="onSelectRentalTime(searchRow)"
                    data-ng-bind="::searchRow.formatted_check_date">
                </td>
                <td st-ratio="15" class="text-left clicky no-select"
                    data-ng-click="onSelectRentalTime(searchRow)">
                    <b>({{::searchRow.available_time_slots}})</b>{{::searchRow.start_check_time}}
                </td>
                <td st-ratio="15" class="text-left clicky no-select"
                    data-ng-click="onSelectRentalTime(searchRow)"
                    data-ng-bind="::searchRow.end_check_time">
                </td>
                <td st-ratio="5" class="text-center clicky no-select"
                    data-ng-click="onSelectRentalTime(searchRow)">
                    <i id="arrow-icon" class="fa fa-chevron-left fa-3x"></i>
                </td>
            </tr>
            </tbody>

            <tfoot>
            <tr>
                <td colspan="5" class="text-center" style="padding-bottom: 0px; padding-top: 0px;">
                    <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"
                         st-template="pagination.custom.html"></div>
                </td>
            </tr>
            </tfoot>
        </table>
    </div>

    <div class="alert alert-danger animate-show animate-hide" role="alert"
         data-ng-show="displayNoResults"
         style="margin: 10px;">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>

        No rental times found.
    </div>

</div>

</div>
</div>

<div class="panel panel-primary" data-ng-repeat="rentalRow in rentalDropDown | orderBy:'item_name'">
    <div class="panel-heading clearfix">
        <h3 class="panel-title pull-left">{{rentalRow.item_code !== ''?'(':''}}{{rentalRow.item_code}}{{rentalRow.item_code !== ''?')':''}} {{rentalRow.item_name}}</h3>
    </div>
    <div class="panel-body ">
        <div class="media">
            <div class="media-left listing" data-ng-show="rentalRow.item_code === 'ACBR'">
                <img class="media-object thumbnail"
                     data-ng-src="http://www.destination360.com/north-america/us/north-carolina/images/s/beach-rentals.jpg">
            </div>
            <div class="media-left listing" data-ng-show="rentalRow.item_code === 'MPR'">
                <img class="media-object thumbnail"
                     data-ng-src="https://champaignparks.com/wp-content/uploads/2014/08/LeonhardRec_13_mini-300x300.jpg">
            </div>

            <div class="media-left listing" data-ng-show="rentalRow.item_code === 'LMPA'">
                <img class="media-object thumbnail"
                     data-ng-src="https://www.waukeshacounty.gov/uploadedImages/Media/Images/Parks_and_Land_Use/Park_System/Park_Icons/MukPicnic%20Area%201.jpg">
            </div>

            <div class="media-left listing" data-ng-show="rentalRow.group_id >  0">
                <img class="media-object thumbnail"
                     data-ng-src="http://lombardparks.com/wp-content/uploads/2014/06/Cake_Blurb.png">
            </div>

            <div class="media-body">
                {{rentalRow.rental_code_description}}
            </div>
        </div>

        <div class="panel-body" style="padding-bottom: 0px!important;">
            <ul class="list-group">
                <li class="list-group-item" data-ng-repeat="facilityRow in rentalRow.facility_data">
                    <div class="row">
                        <div class="col-xs-4"><a href=""
                                                 data-ng-click="onFacilityClick(rentalRow, facilityRow.item_id, 0, facilityRow)"><b>{{facilityRow.rental_name}}-{{facilityRow.item_name}}</b></a>
                        </div>
                        <div class="col-xs-6">{{facilityRow.weekday_display}}</div>
                        <div class="col-xs-2">${{facilityRow.fee_amount}}/{{facilityRow.booking_type}}</div>
                    </div>
                </li>

            </ul>

        </div>
    </div>
</div>

<form class="form-horizontal" role="form" data-ng-hide="true">
<ng-form>

<a id="rentalCodeType"></a>

<div class="panel panel-default">
    <div class="panel-heading clearfix">

        <h3 class="panel-title">Select Reservation</h3>
    </div>

    <div class="panel-body">
        <div class="alert alert-info animate-show animate-hide" role="alert"
             data-ng-hide="!hideBasicInfo">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>

            Select Reservation Type to Continue
        </div>


        <div class="form-group">
            <label class="col-sm-2 control-label-center">Reservation Type</label>

            <div class="col-sm-6">
                <select data-ng-model="rentalCodeSelected" class="form-control" style="width: 240px;"
                        data-ng-change="setNewRental(false)"
                        data-ng-options="rentalRow.item_id as rentalRow.item_name for rentalRow in rentalDropDown"
                        required>
                    <option value="">--Select Rental Type--</option>
                </select>
            </div>
        </div>


        <div class="form-group animate-show" data-ng-hide="hideBasicInfo">
            <label class="col-sm-2 control-label-center">Description</label>

            <div class="col-sm-6">
                <label class="control-label-center" style="font-weight: normal;">{{::rentalDescription}}</label>
            </div>
        </div>

    </div>
</div>


<div class="panel panel-default animate-show animate-hide" data-ng-hide="hideBasicInfo">
    <a id="facilitylist"></a>

    <div class="panel-heading clearfix">
        <h3 class="panel-title">Available Facilities</h3>
    </div>

    <div class="panel-body">

        <div class="form-group">
            <label class="col-sm-2 control-label-center">Facilities<br><a href=""
                                                                          data-ng-click="gotoAnchor('calcontainer', 0)">(View
                Calendar)</a></label>

            <div class="col-sm-10">
                <div class="form-vertical" data-ng-repeat="fac in rentalFacilities">
                    <checkbox class="btn-default checkbox-dark-border" data-ng-model="fac.checked"
                              data-ng-change="onFacilityChecked()" id="fac_{{fac.item_id}}"
                              name="fac_{{fac.item_id}}"></checkbox>
                    <label for="fac_{{fac.item_id}}"
                           style="font-weight: normal;">{{fac.item_name}}</label>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="panel panel-default animate-show animate-hide" data-ng-hide="hideBasicInfo">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Reservation Details</h3>
    </div>

    <div class="panel-body">
        <div class="form-group">
            <label class="col-sm-2 control-label-center">*Requested Date</label>

            <div class="col-sm-6">
                <div class="input-group">
					                    <span class="input-group-addon " style="width: 25px;">
                                            <i class="glyphicon glyphicon-calendar "></i>
                                        </span>
                    <input class="form-control" data-ng-model="selectedDate" name="date"
                           data-autoclose="1" bs-datepicker
                           type="text"
                           style="width: 150px;">
                                        <span class="input-group-addon"
                                              style="width: 250px;background-color: #ffffff; visibility: hidden;">
                                        </span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label-center">*Start Time</label>

            <div class="col-sm-6">
                <div class="input-group">
                    <div class="input-group-addon" style="width: 25px;"><i
                            class="glyphicon glyphicon-time"></i></div>
                    <input class="form-control" size="8" data-ng-model="startTime" name="startTime"
                           bs-timepicker
                           data-length="1"
                           data-minute-step="15" data-arrow-behavior="picker" type="text"
                           style="width: 150px;"
                           data-ng-change="timeChanged()">

                </div>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label-center">*End Time</label>

            <div class="col-sm-6">
                <div class="input-group">
                    <div class="input-group-addon" style="width: 25px;"><i
                            class="glyphicon glyphicon-time"></i></div>
                    <input class="form-control" size="8" data-ng-model="endTime" name="endTime"
                           bs-timepicker data-length="1"
                           data-minute-step="15" data-arrow-behavior="picker" type="text"
                           style="width: 150px;"
                           data-ng-change="timeChanged()">
                </div>
            </div>
        </div>


        <div class="form-group">
            <label class="col-sm-2 control-label-center">Additional Information</label>

            <div class="col-sm-6">
                <textarea class="textarea-responsive" data-ng-model="reservationDetails"></textarea>
            </div>
        </div>
    </div>
</div>


<div class="panel panel-default animate-show animate-hide"
     data-ng-show="!hideBasicInfo && displayPackages">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Add-Ons</h3>
    </div>

    <div class="panel-body">
        <div class="table-responsive hidden-xs">

            <table class="table" style="margin-bottom: 0px;">
                <thead>
                <tr>
                    <td></td>
                    <td><strong>Add-On Name</strong></td>
                    <td><strong>Add-On Code</strong></td>
                    <td><strong>Fee(s)</strong></td>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="pkg in rentalPackages">
                    <td scope="row" style=" border:0px !important;">
                        <div class="form-group">
                            <div class="col-sm-6">
                                <checkbox class="btn-default checkbox-dark-border"
                                          data-ng-if="pkg.required"
                                          data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                          name="package_{{pkg.item_id}}" required></checkbox>
                                <checkbox class="btn-default checkbox-dark-border"
                                          data-ng-if="!pkg.required"
                                          data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                          name="package_{{pkg.item_id}}"></checkbox>
                            </div>
                        </div>
                    </td>
                    <td style=" border:0px !important;"><label for="package_{{pkg.item_id}}"
                                                               style="font-weight: normal;">{{pkg.item_name}}</label>
                    </td>
                    <td style=" border:0px !important;"><label for="package_{{pkg.item_id}}"
                                                               style="font-weight: normal;">{{pkg.item_code}}</label>
                    </td>
                    <td style=" border:0px !important;"><p data-ng-repeat="pkgfee in pkg.fees">
                        {{pkgfee.fee_name}}
                        ${{pkgfee.fee_amount}}</p></td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="table-responsive visible-xs" style="border:0px !important;">
            <table class="table" style="margin-bottom: 0px;">

                <tbody>
                <tr data-ng-repeat="pkg in rentalPackages">
                    <td scope="row" style=" border:0px !important;">
                        <div class="form-group">
                            <div class="col-sm-6">
                                <checkbox class="btn-default checkbox-dark-border"
                                          data-ng-if="pkg.required"
                                          data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                          name="package_{{pkg.item_id}}" required></checkbox>
                                <checkbox class="btn-default checkbox-dark-border"
                                          data-ng-if="!pkg.required"
                                          data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                          name="package_{{pkg.item_id}}"></checkbox>
                            </div>
                        </div>
                    </td>
                    <td style=" border:0px !important;">
                        <p><label for="package_{{pkg.item_id}}" style="font-weight: normal;">{{pkg.item_name}}</label>
                        </p>

                        <p><label for="package_{{pkg.item_id}}" style="font-weight: normal;">{{pkg.item_code}}</label>
                        </p>

                        <p data-ng-repeat="pkgfee in pkg.fees"><label for="package_{{pkg.item_id}}"
                                                                      style="font-weight: normal;">{{pkgfee.fee_name}}
                            ${{pkgfee.fee_amount}}</label></p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>


<div class="panel panel-default animate-show" data-ng-show="!hideBasicInfo && displayCustomFields">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Options</h3>
    </div>

    <div class="panel-body ">

        <div data-ng-repeat="field in rentalCustomFields">
            <!-- TEXT FIELDS -->
            <div data-ng-if="field.type=='text'" class="form-group">
                <label class="col-sm-2 control-label-center">{{field.label}}</label>

                <div class="col-sm-6">
                    <input type="{{field.type}}" id="{{field.id}}"
                           data-ng-model="rentalCustomFields[$index].response_value"
                           class="form-control" required/>
                </div>
            </div>

            <!-- NUMERIC FIELDS -->
            <div data-ng-if="field.type=='number'" class="form-group">
                <label class="col-sm-2 control-label-center">{{field.label}}</label>

                <div class="col-sm-6">
                    <input type="text" id="{{field.name}}"
                           data-ng-model="rentalCustomFields[$index].response_value"
                           class="form-control" required/>
                </div>
            </div>

            <!-- SELECT FIELDS -->
            <div data-ng-if="field.type=='select'" class="form-group">
                <label class="col-sm-2 control-label-center">{{field.label}}</label>

                <div class="col-sm-6">
                    <select data-ng-model="rentalCustomFields[$index].response_value"
                            class="form-control"
                            prompt="Select One" required>
                        <option data-ng-repeat="option in field.options">{{option}}</option>
                    </select>
                </div>
            </div>

            <!-- CHECKBOX FIELDS -->
            <div data-ng-if="field.type=='checkbox'" class="form-group">
                <label class="col-sm-2 control-label-center">{{field.label}}</label>

                <div class="col-sm-6">
                    <!--<checkbox class="btn-default checkbox-dark-border" data-ng-if="rentalCustomFields[$index].required" data-ng-model="rentalCustomFields[$index].response_value"  name="taskGroup" id="{{field.name}}" value="{{field.id}}" required/>
                    <checkbox class="btn-default checkbox-dark-border" data-ng-if="!rentalCustomFields[$index].required" data-ng-model="rentalCustomFields[$index].response_value"  name="taskGroup" id="{{field.name}}" value="{{field.id}}"/>

                    -->
                    <checkbox class="btn-default checkbox-dark-border"
                              data-ng-if="rentalCustomFields[$index].required"
                              data-ng-model="rentalCustomFields[$index].response_value"
                              required></checkbox>
                    <checkbox class="btn-default checkbox-dark-border"
                              data-ng-if="!rentalCustomFields[$index].required"
                              data-ng-model="rentalCustomFields[$index].response_value"></checkbox>
                </div>
            </div>
        </div>

    </div>
</div>


<div class="panel panel-default animate-show animate-hide" data-ng-hide="hideBasicInfo">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Personal Information</h3>
    </div>

    <div class="panel-body">

        <div class="form-group">
            <label class="col-sm-2 control-label-center">Email Address</label>

            <div class="col-sm-6">
                <input data-ng-model="emailAddress" type="email" class="form-control"
                       style="width: 250px;"/>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label-center">Phone Number</label>

            <div class="col-sm-6">
                <input data-ng-model="phoneNumber" type="text" class="form-control" style="width: 150px;"
                       maxlength="10"/>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label-center">*Preferred Contact Method</label>

            <div class="col-sm-6">
                <select class="form-control" style="width: 125px;" data-ng-model="contactMethod">
                    <option value="">--Select--</option>
                    <option value="P">Phone</option>
                    <option value="E">Email</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label-center">Additional Notes</label>

            <div class="col-sm-6">
                <textarea data-ng-model="reservationNotes" class="textarea-responsive"></textarea>
            </div>
        </div>

    </div>
</div>


<div class="panel panel-default animate-show animate-hide" data-ng-hide="hideBasicInfo">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Payment Information</h3>
    </div>

    <div class="panel-body">
        <div class="form-group">
            <label class="col-sm-2 control-label-center">Estimated Cost</label>

            <div class="col-sm-10">
                <label class=" control-label-center">{{feeAmount | currency}} (Includes
                    {{depositAmount | currency}}
                    deposit)</label>
                <br>

                <p>The estimated rental cost is based on information supplied at the time of the
                    request and may change
                    according to additional information, change in rental request, and/or residency
                    status of the
                    renter. This
                    request is not an official rental until it has been approved and the renter has
                    paid in full.</p>
            </div>
        </div>

    </div>
</div>

<div class="panel panel-default animate-show animate-hide" data-ng-hide="hideBasicInfo">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Agreement & Waivers</h3>
    </div>

    <div class="panel-body">
        <div class="form-group">
            <div class="col-sm-12 ">
                <label data-placement="bottom-left" data-type="info"
                       bs-enabled="agreementSigned.checked"
                       style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none; font-weight: normal;"
                       for="agreement_1">
                    <checkbox class="btn-default checkbox-dark-border"
                              data-ng-model="agreementSigned.checked"
                              id="agreement_1" name="agreement_1"></checkbox>
                    I have read, understand, and agree to the <a href="" target="_blank"
                                                                 style="font-weight: bold;">Terms
                    and Conditions</a> regarding The Parks and Recreation Facility Reservations and
                    Refund/Cancelation
                    Policy.
                </label>
            </div>
        </div>

    </div>
</div>


<div class="form-group animate-show animate-hide" data-ng-hide="!contactCheckAlert" data-ng-cloak>
    <div class="col-sm-offset-1 col-sm-10 alert alert-danger animate-hide" role="alert">
        <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
        <span class="sr-only">Error:</span>
        Terms & Agreement not checked!

        <span class="close" data-ng-click="contactCheckAlert=false">&times;</span>
    </div>
</div>

<div class="form-group animate-show animate-hide" data-ng-hide="hideBasicInfo">
    <div class="col-sm-12 text-center">
        <button type="submit" class="btn btn-info btn-lg" data-ng-click="onSubmitRequest()">Add to Cart
        </button>
    </div>
</div>


</ng-form>
</form>

<h3 class="page-header" style="" data-ng-hide="hideBasicInfo"></h3>

<h3 style="" data-ng-hide="hideBasicInfo || 1===1">Facility Calendar</h3>

<div id='calcontainer' data-ng-hide="hideBasicInfo || 1===1">
    <div class="btn-toolbar" style="padding-bottom: 4px;">
        <div class="btn-group">
            <button type="button" class="btn btn-info"
                    data-ng-click=" gotoAnchor('facilitylist', 100)">Back to Facility List
            </button>
        </div>
        <div class="btn-group">
            <button type="button" class="btn btn-primary" data-ng-class="{active:mode==='month'}"
                    data-ng-click="changeMode('month')">
                Month
            </button>
            <button type="button" class="btn btn-primary" data-ng-class="{active:mode==='week'}"
                    data-ng-click="changeMode('week')">
                Week
            </button>
            <button type="button" class="btn btn-primary" data-data-ng-class="{active:mode==='day'}"
                    data-ng-click="changeMode('day')">
                Day
            </button>
        </div>
        <div class="btn-group animate-show animate-hide" data-ng-show="mode==='month'">
            <button type="button" class="btn btn-default" data-ng-disabled="isToday()"
                    style="background-image: linear-gradient(#009900, #329a13 40%, #35a414); border-color:#3ebe17;color: #fff;"
                    data-ng-click="today()">
                Today
            </button>
        </div>
    </div>
    <div>
        <calendar data-ng-model="currentDate" calendar-mode="mode" event-source="eventSource"
                  range-changed="reloadSource(startTime, endTime)" queryMode="remote"
                  event-selected="onEventSelected(event)"></calendar>
        <br>
    </div>
</div>
</div>
</div>
</div>

<script type="text/ng-template" id="selectTime.html">
<div class="modal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header" style="padding-top:10px;padding-bottom:10px;">
    <h3 class="modal-title text-Success">{{selectedRentalCodeRow.item_name}} - {{selectedFacItem.item_name}}</h3>
</div>
<div class="modal-body clearfix" style="padding-top:10px;padding-bottom:10px;">
<div data-ng-show="selectTimePageID === 0">
    <form>
        <div class="panel-body">
            <div class="form-group">
                <div class="col-sm-4">
                    <label class="control-label-center">*Start Date</label>
                </div>
                <div class="col-sm-8">
                    <div class="input-group" style="margin-bottom: 5px;">
                                            <span class="input-group-addon " style="width: 25px;">
                                                <i class="glyphicon glyphicon-calendar "></i>
                                            </span>
                        <input class="form-control" ng-model="selectedDate2.start" name="date1" data-date-format="MM/dd/yyyy"
                               data-autoclose="1" bs-datepicker placeholder="Start Date"
                               type="text"
                               style="width: 150px;">
                                            <span class="input-group-addon"
                                                  style="width: 250px;background-color: #ffffff; visibility: hidden;">
                                            </span>
                        </input>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-4">
                    <label class="control-label-center">End Date</label>
                </div>
                <div class="col-sm-8">
                    <div class="input-group" style="margin-bottom: 5px;">
                                            <span class="input-group-addon " style="width: 25px;">
                                                <i class="glyphicon glyphicon-calendar "></i>
                                            </span>
                        <input class="form-control" ng-model="selectedDate2.end" name="date2"
                               data-autoclose="1" bs-datepicker datepicker-popup="yyyy-MM-dd" data-min-date="{{selectedDate}}" data-date-format="MM/dd/yyyy"
                               type="text" placeholder="End Date"
                               style="width: 150px;">
                                            <span class="input-group-addon"
                                                  style="width: 250px;background-color: #ffffff; visibility: hidden;">
                                            </span>
                        </input>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-4">
                    <label class="control-label-center">*Start After</label>
                </div>
                <div class="col-sm-8">
                    <div class="input-group" style="margin-bottom: 5px;">
                        <div class="input-group-addon" style="width: 25px;"><i
                                class="glyphicon glyphicon-time"></i></div>
                        <input class="form-control" size="8" data-ng-model="selectedTime.startTime" name="startTime"
                               bs-timepicker data-length="1"
                               data-minute-step="15" data-arrow-behavior="picker" type="text"
                               style="width: 150px;" data-ng-change="timeChanged()">

                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-4">
                    <label class="control-label-center">*End Before</label>
                </div>
                <div class="col-sm-8">
                    <div class="input-group" style="margin-bottom: 5px;">
                        <div class="input-group-addon" style="width:25px;"><i
                                class="glyphicon glyphicon-time"></i></div>
                        <input class="form-control" size="8" data-ng-model="selectedTime.endTime" name="endTime"
                               bs-timepicker data-length="1"
                               data-minute-step="15" data-arrow-behavior="picker" type="text"
                               style="width: 150px;"
                               data-ng-change="timeChanged()">
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>

<div data-ng-show="selectTimePageID === 12">
    <form>
        <div class="panel-body">
            <div class="panel-heading" data-ng-hide="rentalCustomFields.length===0">
                <h3 class="h3" style="margin-bottom: 0px;margin-top: 0px;">Options</h3>
            </div>

            <div class="panel-body" style="padding-left: 15px;" data-ng-hide="rentalCustomFields.length===0">

                <div data-ng-repeat="field in rentalCustomFields">
                    <!-- TEXT FIELDS -->
                    <div data-ng-if="field.type=='text'" class="form-group row">
                        <label class="col-sm-6 control-label-center">{{field.label}}</label>

                        <div class="col-sm-6">
                            <input type="{{field.type}}" id="{{field.id}}"
                                   data-ng-model="rentalCustomFields[$index].response_value"
                                   class="form-control" required/>
                        </div>
                    </div>

                    <!-- NUMERIC FIELDS -->
                    <div data-ng-if="field.type=='number'" class="form-group row">
                        <label class="col-sm-6 control-label-center">{{field.label}}</label>

                        <div class="col-sm-6">
                            <input type="text" id="{{field.name}}"
                                   data-ng-model="rentalCustomFields[$index].response_value"
                                   class="form-control" required/>
                        </div>
                    </div>

                    <!-- SELECT FIELDS -->
                    <div data-ng-if="field.type=='select'" class="form-group row">
                        <label class="col-sm-6 control-label-center">{{field.label}}</label>

                        <div class="col-sm-6">
                            <select data-ng-model="rentalCustomFields[$index].response_value"
                                    class="form-control"
                                    prompt="Select One" required>
                                <option data-ng-repeat="option in field.options">{{option}}</option>
                            </select>
                        </div>
                    </div>

                    <!-- CHECKBOX FIELDS -->
                    <div data-ng-if="field.type=='checkbox'" class="form-group row">
                        <label class="col-sm-6 control-label-center">{{field.label}}</label>

                        <div class="col-sm-6">
                            <!--<checkbox class="btn-default checkbox-dark-border" data-ng-if="rentalCustomFields[$index].required" data-ng-model="rentalCustomFields[$index].response_value"  name="taskGroup" id="{{field.name}}" value="{{field.id}}" required/>
                            <checkbox class="btn-default checkbox-dark-border" data-ng-if="!rentalCustomFields[$index].required" data-ng-model="rentalCustomFields[$index].response_value"  name="taskGroup" id="{{field.name}}" value="{{field.id}}"/>

                            -->
                            <checkbox class="btn-default checkbox-dark-border"
                                      data-ng-if="rentalCustomFields[$index].required"
                                      data-ng-model="rentalCustomFields[$index].response_value"
                                      required></checkbox>
                            <checkbox class="btn-default checkbox-dark-border"
                                      data-ng-if="!rentalCustomFields[$index].required"
                                      data-ng-model="rentalCustomFields[$index].response_value"></checkbox>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="panel-heading clearfix" data-ng-hide="rentalPackages.length===0">
            <h3 class="h3" style="margin-bottom: 0px;margin-top: 0px;">Add-Ons</h3>
        </div>

        <div class="panel-body" data-ng-hide="rentalPackages.length===0">
            <div class="table-responsive hidden-xs">

                <table class="table" style="margin-bottom: 0px;">r9 270

                    <thead>
                    <tr>
                        <td></td>
                        <td><strong>Add-On Name</strong></td>
                        <td><strong>Add-On Code</strong></td>
                        <td><strong>Fee(s)</strong></td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr data-ng-repeat="pkg in rentalPackages">
                        <td scope="row" style=" border:0px !important;">
                            <div class="form-group">
                                <div class="col-sm-6">
                                    <checkbox class="btn-default checkbox-dark-border"
                                              data-ng-if="pkg.required"
                                              data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                              name="package_{{pkg.item_id}}" required></checkbox>
                                    <checkbox class="btn-default checkbox-dark-border"
                                              data-ng-if="!pkg.required"
                                              data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                              name="package_{{pkg.item_id}}"></checkbox>
                                </div>
                            </div>
                        </td>
                        <td style=" border:0px !important;"><label for="package_{{pkg.item_id}}"
                                                                   style="font-weight: normal;">{{pkg.item_name}}</label>
                        </td>
                        <td style=" border:0px !important;"><label for="package_{{pkg.item_id}}"
                                                                   style="font-weight: normal;">{{pkg.item_code}}</label>
                        </td>
                        <td style=" border:0px !important;"><p data-ng-repeat="pkgfee in pkg.fees">
                            {{pkgfee.fee_name}}
                            ${{pkgfee.fee_amount}}</p></td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-responsive visible-xs" style="border:0px !important;">
                <table class="table" style="margin-bottom: 0px;">

                    <tbody>
                    <tr data-ng-repeat="pkg in rentalPackages">
                        <td scope="row" style=" border:0px !important;">
                            <div class="form-group">
                                <div class="col-sm-6">
                                    <checkbox class="btn-default checkbox-dark-border"
                                              data-ng-if="pkg.required"
                                              data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                              name="package_{{pkg.item_id}}" required></checkbox>
                                    <checkbox class="btn-default checkbox-dark-border"
                                              data-ng-if="!pkg.required"
                                              data-ng-model="pkg.selected" id="package_{{pkg.item_id}}"
                                              name="package_{{pkg.item_id}}"></checkbox>
                                </div>
                            </div>
                        </td>
                        <td style=" border:0px !important;">
                            <p><label for="package_{{pkg.item_id}}"
                                      style="font-weight: normal;">{{pkg.item_name}}</label>
                            </p>

                            <p><label for="package_{{pkg.item_id}}"
                                      style="font-weight: normal;">{{pkg.item_code}}</label>
                            </p>

                            <p data-ng-repeat="pkgfee in pkg.fees"><label for="package_{{pkg.item_id}}"
                                                                          style="font-weight: normal;">{{pkgfee.fee_name}}
                                ${{pkgfee.fee_amount}}</label></p>
                        </td>
                    </tr>
                     </tbody>
                </table>
            </div>
        </div>
    </form>
</div>

<div data-ng-show="selectTimePageID === 112">
    <form>

        <div class="panel-heading clearfix">
            <h3 class="h3" style="margin-bottom: 0px;margin-top: 0px;">Payment Information</h3>
        </div>


        <div class="panel-body">
            <div class="form-group">
                <label class="col-sm-4 control-label-center">Estimated Cost</label>

                <div class="col-sm-8">
                    <label class=" control-label-center">{{feeAmount | currency}} (Includes
                        {{depositAmount | currency}}
                        deposit)</label>
                    <br>


                </div>
            </div>
            <div><p>The estimated rental cost is based on information supplied at the time of the
                request and may change
                according to additional information, change in rental request, and/or residency
                status of the
                renter. This
                request is not an official rental until it has been approved and the renter has
                paid in full.</p></div>
        </div>


        <div class="panel-heading clearfix">
            <h3 class="h3" style="margin-bottom: 0px;margin-top: 0px;">Agreement & Waivers</h3>
        </div>


        <div class="panel-body">
            <div class="form-group">
                <div class="col-sm-12 ">
                    <label data-placement="bottom-left" data-type="info"
                           bs-enabled="agreementSigned.checked"
                           style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none; font-weight: normal;"
                           for="agreement_1">
                        <checkbox class="btn-default checkbox-dark-border"
                                  data-ng-model="agreementSigned.checked"
                                  id="agreement_1" name="agreement_1"></checkbox>
                        I have read, understand, and agree to the <a href="" target="_blank"
                                                                     style="font-weight: bold;">Terms
                        and Conditions</a> regarding The Parks and Recreation Facility Reservations and
                        Refund/Cancelation
                        Policy.
                    </label>
                </div>
            </div>

        </div>


    </form>
</div>

</div>
<div class="modal-footer" style="padding-top:10px;padding-bottom:10px;">
    <button class="btn btn-info" data-ng-click="onCancelSelectTime()">Cancel</button>

    <button class="btn btn-success" data-ng-click="onSelectTimeContinue()">Continue</button>
</div>
</div>
</div>
</div>
</script>

<script type="text/ng-template" id="selectRentalTime.html">
    <div class="modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="padding-top:10px;padding-bottom:10px;">
                    <h3 class="modal-title text-Success">Select Rental Time</h3>
                </div>
                <div class="modal-body clearfix" style="padding-top:10px;padding-bottom:10px;">
                    <div style=" max-height: 300px;overflow: scroll;">
                        <div class="col-sm-6 col-md-4 text-center" style="padding: 2px!important;"
                             data-ng-repeat="time in searchSelectedTimeData.time_data">
                            <button type="button" class="btn btn-primary"
                                    style="width:100%;height:50px; margin: 0px;"
                                    data-ng-click="onSearchSelectRentalTime(time)"><b>{{time.start_time}}</b>-{{time.end_time}}
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding-top:10px;padding-bottom:10px;">
                    <button class="btn btn-info" data-ng-click="onSearchCancelSelectTime()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="confirmation.html">
    <div class="modal text-left" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title text-Success">Rental Added to Cart</h3>
                </div>
                <div class="modal-body">
                    <p>Your reservation has successfully been added to your cart.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" data-ng-click="$hide()">Close</button>
                </div>
            </div>
        </div>
    </div>
</script>